'use strict';var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h['return']&&h['return']()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d('next',a)},function(a){d('throw',a)})}return d('next')})}}var fetch=require('node-fetch'),requestJoke=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(){var b,c,d;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b='https://api.chucknorris.io/jokes/random',a.next=3,fetch(b);case 3:return c=a.sent,a.next=6,c.json();case 6:return d=a.sent,a.abrupt('return',d.value);case 8:case'end':return a.stop();}},a,void 0)}));return function(){return a.apply(this,arguments)}}(),requestJokeForCategory=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(b){var c,d,e,f;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,requestCategories();case 2:return c=a.sent,a.next=5,c.filter(function(a){return a===b});case 5:if(d=a.sent,e=_slicedToArray(d,1),f=e[0],f){a.next=10;break}throw new Error('category '+b+' not found!');case 10:return a.abrupt('return',requestSpecificCategory(f));case 11:case'end':return a.stop();}},a,void 0)}));return function(){return a.apply(this,arguments)}}(),requestCategories=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(){var b,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b='https://api.chucknorris.io/jokes/categories',a.next=3,fetch(b);case 3:return c=a.sent,a.next=6,c.json();case 6:return a.abrupt('return',a.sent);case 7:case'end':return a.stop();}},a,void 0)}));return function(){return a.apply(this,arguments)}}(),requestSpecificCategory=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(b){var c,d,e;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c='https://api.chucknorris.io/jokes/random?category='+b,a.next=3,fetch(c);case 3:return d=a.sent,a.next=6,d.json();case 6:return e=a.sent,a.abrupt('return',e.value);case 8:case'end':return a.stop();}},a,void 0)}));return function(){return a.apply(this,arguments)}}();module.exports={requestJoke:requestJoke,requestJokeForCategory:requestJokeForCategory,requestCategories:requestCategories};